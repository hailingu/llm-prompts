# ============================================================
# PPT Brand System — Single Source of Truth
# ============================================================
# All brand colors, fonts, layout traits, semantic colors,
# and border tokens are defined HERE and only here.
#
# CHANGELOG (P1):
#   - C1 fix: BCG primary changed from #00A3A0 → #009A44
#     to differentiate from McKinsey (#00A3A0).
#   - C2 fix: consolidated 3 scattered definitions (narrative /
#     CSS / JS) into this single file.
# ============================================================

# ----------------------------------------------------------
# 1. Brand Definitions
# ----------------------------------------------------------
brands:
  kpmg:
    name: KPMG
    default: true
    colors:
      primary: "#00338D"          # KPMG Blue
      secondary: "#0091DA"        # Light Blue
      accent: "#483698"           # Purple
      supplementary:
        - "#00A3A1"               # Teal
        - "#E31C79"               # Pink
    fonts:
      heading_en: Georgia
      body_en: Arial
      zh: Noto Sans SC
      stack: 'Georgia, Arial, "Noto Sans SC", sans-serif'
    font_sizes:
      h1: "text-6xl"             # 3.75rem
      h2: "text-3xl"             # 1.875rem
      body: "text-base"          # 1rem
      small: "text-xs"           # 0.75rem
    design:
      style: "简洁专业、数据驱动、强调洞察"
      primary_tone: "蓝色为主色调"
    layout:
      sidebar: left              # 左侧品牌栏
      full_width: false
      features: []

  mckinsey:
    name: McKinsey（麦肯锡）
    colors:
      primary: "#00A3A0"          # McKinsey Teal
      secondary: "#1A1A1A"        # Dark Gray
      accent: "#FF6B35"           # Orange
      supplementary:
        - "#5D5FEF"               # Purple
        - "#00B4A6"               # Light Teal
    fonts:
      heading_en: Helvetica Neue
      body_en: Helvetica Neue
      zh: PingFang SC
      stack: '"Helvetica Neue", "PingFang SC", sans-serif'
    font_sizes:
      h1: "text-6xl"
      h2: "text-3xl"
      body: "text-base"
      small: "text-xs"
    design:
      style: "极简主义、权威感、黑白灰为主"
    layout:
      sidebar: none              # 无侧边栏，全宽设计
      full_width: true
      features:
        - "大量留白"
        - "图表与文字严格对齐"

  bcg:
    name: BCG（波士顿咨询）
    # ⚠ C1 fix: primary was #00A3A0 (identical to McKinsey).
    #   Changed to #009A44 (BCG official deep green).
    colors:
      primary: "#009A44"          # BCG Green (FIXED: was #00A3A0)
      secondary: "#1D428A"        # Navy Blue
      accent: "#FF671F"           # Orange
      supplementary:
        - "#6CC24A"               # Light Green
        - "#0072CE"               # Blue
    fonts:
      heading_en: Arial
      body_en: Arial
      zh: Microsoft YaHei
      stack: 'Arial, "Microsoft YaHei", sans-serif'
    font_sizes:
      h1: "text-6xl"
      h2: "text-3xl"
      body: "text-base"
      small: "text-xs"
    design:
      style: "专业严谨、绿色为主色调"
    layout:
      sidebar: none
      navbar: top                # 顶部导航栏
      full_width: false
      features:
        - "模块化设计"
        - "强调数据可视化"

  bain:
    name: Bain（贝恩）
    colors:
      primary: "#DC291E"          # Bain Red
      secondary: "#1A1A1A"        # Dark Gray
      accent: "#F5A623"           # Yellow
      supplementary:
        - "#7ED321"               # Green
        - "#4A90E2"               # Blue
    fonts:
      heading_en: Gotham
      body_en: Arial
      zh: Source Han Sans SC
      stack: '"Gotham", Arial, "Source Han Sans SC", sans-serif'
    font_sizes:
      h1: "text-6xl"
      h2: "text-3xl"
      body: "text-base"
      small: "text-xs"
    design:
      style: "红色为主、简洁有力、强调结果"
    layout:
      sidebar: right             # 右侧洞察栏
      full_width: false
      features:
        - "强调关键数字"
        - "结果导向设计"

  deloitte:
    name: Deloitte（德勤）
    colors:
      primary: "#86BC25"          # Deloitte Green
      secondary: "#0033A0"        # Blue
      accent: "#FF671F"           # Orange
      supplementary:
        - "#00A3A0"               # Teal
        - "#E31C79"               # Pink
    fonts:
      heading_en: Arial
      body_en: Arial
      zh: Noto Sans SC
      stack: 'Arial, "Noto Sans SC", sans-serif'
    font_sizes:
      h1: "text-6xl"
      h2: "text-3xl"
      body: "text-base"
      small: "text-xs"
    design:
      style: "绿色为主、现代感强、科技感"
    layout:
      sidebar: none
      full_width: false
      features:
        - "圆角设计元素"
        - "渐变背景"
        - "科技感图表"

# ----------------------------------------------------------
# 2. Brand Switching Mechanism
# ----------------------------------------------------------
switching:
  method: "CSS class on <body>"
  pattern: "brand-{brand_id}"
  css_variables:
    - "--brand-primary"
    - "--brand-secondary"
    - "--brand-accent"
  rules:
    - "成片 slide-*.html 不应出现品牌切换控件"
    - "调试控件仅在 presentation.html 中保留"
    - "切换品牌后必须延迟 50ms 调用 chart.resize()"

# ----------------------------------------------------------
# 3. Common Design Tokens
# ----------------------------------------------------------
design_tokens:
  spacing:
    base: "1rem"               # 16px
    content_padding: "px-16 py-8"
    card_padding: "p-4 或 p-6"
  responsive:
    breakpoints:
      sm: 640
      md: 768
      lg: 1024
      xl: 1280
  accessibility:
    - "颜色对比度符合 WCAG 2.1 AA 标准"
    - "支持键盘导航"
    - "屏幕阅读器友好"

# ----------------------------------------------------------
# 3.5 Runtime Layout Tokens (P0 Root Fix)
# ----------------------------------------------------------
runtime_layout_tokens:
  vertical_rhythm:
    header_px: 80
    footer_px: 50
    main_padding_y_px: 80
    footer_safe_gap_min_px: 8
  spacing_scale_px:
    xs: 6
    sm: 8
    md: 12
    lg: 16
    xl: 24
  card_padding_px:
    compact: 12
    default: 16
    relaxed: 24
  chart_height_px:
    compact: 180
    default: 220
    spacious: 260
  typography_runtime:
    heading_2:
      size_px: 28
      line_height: 1.25
      margin_bottom_px: 12
    heading_3:
      size_px: 20
      line_height: 1.3
      margin_bottom_px: 10
    body:
      size_px: 16
      line_height: 1.5
      paragraph_gap_px: 8
  rules:
    - "优先使用 token 档位（compact/default/relaxed），避免页面内联样式随意漂移"
    - "若触发底部裁切，先从 spacing 与 card_padding token 降档，再下调 chart_height"

# ----------------------------------------------------------
# 4. Semantic Color System
# ----------------------------------------------------------
semantic_colors:
  red:
    meaning: "风险/阻塞/负向偏差"
    examples: "延迟、缺口、失败项"
    tailwind: "red"
  amber:
    meaning: "预警/过渡/待确认"
    examples: "波动、临界区间、观察项"
    tailwind: "amber"
  sky:
    meaning: "信息/进展/中性状态"
    examples: "进度、事实描述、状态同步"
    tailwind: "sky"
  emerald:
    meaning: "达成/正向结果"
    examples: "完成、收益、改善项"
    tailwind: "emerald"
  indigo:
    meaning: "阶段/架构/里程碑"
    examples: "结构分层与阶段锚点"
    tailwind: "indigo"

semantic_rules:
  - "卡片标题、结论关键词、数值方向与颜色语义必须一致"
  - "禁止「负向内容用 emerald」或「达成内容用 red」等错配"
  - "语义表达应多样化：可根据场景灵活使用 细语义边框(左/顶)、浅色背景块(如 bg-red-50)、彩色图标(Icon)、阴影(Shadow)、渐变背景(Gradient) 或 局部标签(Badge) 来区分语义。"
  - "禁止全篇机械地只使用单一的左边框或顶边框作为强调手段。"
  - "整卡高饱和底色（如渐变强调卡）仅在需要强对比分组或突出核心结论时使用，且单页不超过 1 个，或不超过同页卡片的 30%"

# ----------------------------------------------------------
# 5. Border System
# ----------------------------------------------------------
border:
  semantic_options: ["bg-tint", "icon-accent", "gradient-bg", "badge-accent", "border-l-2", "border-t-2"]
  structural_default: "border border-slate-200"
  rules:
    - group_uniform: "同组卡片（如同一页的3个对比卡片）必须使用相同的强调范式（同为左边框，或同为顶边框，或同为浅色背景），但不同页或不同布局类型之间允许采用不同的强调范式。"
    - structural_uniform: "基础卡片与容器边框统一使用 border border-slate-200（或同等中性浅灰），不得按页面随意漂移到更重描边"
    - exception_protocol: "若确需使用非默认宽度（如 border-l-3），必须满足「单页唯一高危告警卡 + 文案含明确风险词 + 在页注释声明例外原因」"
    - max_strength: "border-l-4仅限封面或单页中唯一高危告警卡点，普通洞察卡禁止使用；推荐使用 border-l-2 或 Icon+Bg 组合"
    - group_consistency: "流程、路线图、KPI 组卡等同组组件必须使用同一边框宽度，不允许同组卡片出现 2px/3px/4px 混排"

# ----------------------------------------------------------
# 6. Accessibility & Contrast
# ----------------------------------------------------------
accessibility:
  contrast:
    target_ratio: 4.5  # WCAG AA for normal text
    large_text_ratio: 3.0 # WCAG AA for large text
    auto_flip: true    # Automatically switch text color based on background luminance
  rules:
    - "background-aware-text: 必须确保文本颜色与背景具有足够对比度 (WCAG AA)"
    - "light-bg-dark-text: 若背景亮度 > 0.5，强制使用深色文本 (slate-900/brand-primary/black)"
    - "dark-bg-light-text: 若背景亮度 <= 0.5，强制使用浅色文本 (white/slate-50)"
    - "primary-on-primary-ban: 禁止在品牌主色背景上使用品牌主色文本，除非有白色描边"

