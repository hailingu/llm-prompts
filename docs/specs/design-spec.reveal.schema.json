{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "design-spec.reveal.json schema",
  "type": "object",
  "required": ["meta","tokens","typography","layouts","chart_palette","animation_tokens","accessibility","fonts"],
  "properties": {
    "meta": {
      "type": "object",
      "properties": {
        "session_id": {"type":"string"},
        "timestamp": {"type":"string","format":"date-time"},
        "design_system_version": {"type":"string"},
        "base_system": {"type":"string"},
        "designer": {"type":"string"}
      }
    },
    "tokens": {
      "type": "object",
      "required": ["primary","on_primary","secondary","surface","on_surface"],
      "patternProperties": {
        "^.*$": {"type":"string","pattern":"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$|^rgba?\\(.*\\)$"}
      }
    },
    "typography": {
      "type": "object",
      "required": ["type_scale"],
      "properties": {
        "type_scale": {
          "type": "object",
          "patternProperties": {
            "^.*$": {
              "type": "object",
              "required": ["size","weight","line_height"],
              "properties": {
                "size": {"type":"number"},
                "weight": {"type":"number"},
                "line_height": {"type":"number"}
              }
            }
          }
        }
      }
    },
    "spacing": {
      "type":"object",
      "properties":{
        "base_unit":{"type":"number"},
        "scale":{"type":"array","items":{"type":"number"}}
      }
    },
    "layouts": {
      "type":"object",
      "required":["grid_columns","layouts"],
      "properties":{
        "grid_columns":{"type":"number"},
        "gutter":{"type":"number"},
        "margin_horizontal":{"type":"number"},
        "layouts":{
          "type":"object",
          "patternProperties":{
            "^.*$":{
              "type":"object",
              "properties":{
                "description":{"type":"string"},
                "content_columns":{"type":"array","items":{"type":"number"}},
                "image_columns":{"type":"array","items":{"type":"number"}}
              }
            }
          }
        }
      }
    },
    "chart_palette": {
      "type":"object",
      "minProperties":3,
      "patternProperties":{
        "^.*$":{"type":"string","pattern":"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"}
      }
    },
    "animation_tokens": {
      "type":"object",
      "properties":{
        "entrance":{"type":"object"},
        "emphasis":{"type":"object"}
      }
    },
    "accessibility":{
      "type":"object",
      "properties":{
        "minContrast":{"type":"number","minimum":1},
        "diagramContrast":{"type":"number","minimum":1},
        "colorblind_safe":{"type":"boolean"}
      }
    },
    "fonts":{
      "type":"object",
      "required":["en","zh","embed_policy"],
      "properties":{
        "en":{"type":"string"},
        "zh":{"type":"string"},
        "embed_policy":{"type":"string"}
      }
    }
  }
}