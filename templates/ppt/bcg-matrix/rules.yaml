# BCG Matrix Template - Validation Rules

template_name: "BCG Growth-Share Matrix"
version: "1.0"

# 强制规则（必须遵守）
mandatory_rules:
  - rule_id: "bcg-001"
    description: "必须包含4个象限的完整矩阵"
    check: "quadrants_count == 4"
    severity: "critical"
  
  - rule_id: "bcg-002"
    description: "必须显示X轴（市场份额）和Y轴（增长率）"
    check: "has_x_axis and has_y_axis"
    severity: "critical"
  
  - rule_id: "bcg-003"
    description: "气泡大小必须代表业务规模（收入/利润）"
    check: "bubble_size_metric in ['revenue', 'profit', 'market_size']"
    severity: "major"
  
  - rule_id: "bcg-004"
    description: "至少包含3个业务单元"
    check: "business_units >= 3"
    severity: "major"
  
  - rule_id: "bcg-005"
    description: "必须标注数据来源和时间"
    check: "has_data_source and has_time_period"
    severity: "major"

# 设计规则
design_rules:
  color_scheme:
    - rule_id: "bcg-design-001"
      description: "4个象限使用不同颜色区分"
      check: "unique_quadrant_colors == 4"
      severity: "major"
  
  typography:
    - rule_id: "bcg-design-002"
      description: "业务单元标签字号≥14pt"
      check: "label_font_size >= 14"
      severity: "minor"
  
  accessibility:
    - rule_id: "bcg-design-003"
      description: "为色盲用户添加图案填充"
      check: "has_pattern_fills or has_text_labels"
      severity: "major"

# 内容质量规则
content_rules:
  - rule_id: "bcg-content-001"
    description: "必须包含每个象限的战略建议"
    check: "has_strategy_recommendations"
    severity: "major"
  
  - rule_id: "bcg-content-002"
    description: "相对市场份额计算正确（vs 最大竞争对手）"
    check: "relative_market_share_formula == 'own_share / largest_competitor_share'"
    severity: "major"
  
  - rule_id: "bcg-content-003"
    description: "增长率基于过去3-5年数据"
    check: "growth_rate_period >= 3"
    severity: "minor"

# 最佳实践建议
best_practices:
  - "气泡图比表格更直观，优先使用气泡图"
  - "添加箭头显示业务单元的移动趋势（去年→今年）"
  - "在标题页说明分析的时间窗口和数据来源"
  - "配合财务数据（收入、利润、现金流）佐证分析"
  - "避免超过10个业务单元（过多会导致视觉混乱）"

# 常见错误
common_mistakes:
  - error: "将绝对市场份额误用为相对市场份额"
    fix: "相对份额 = 自己的份额 / 最大竞争对手的份额"
  
  - error: "所有业务都集中在一个象限"
    fix: "检查数据质量，或重新定义'高/低'的阈值"
  
  - error: "气泡大小无意义或缺失"
    fix: "气泡大小必须映射到收入、利润或市场规模"

# 评分标准
scoring:
  dimensions:
    completeness: 30  # 完整性（4象限、标签、数据）
    accuracy: 25      # 准确性（计算公式、数据来源）
    clarity: 25       # 清晰度（视觉层次、对比度）
    actionability: 20 # 可操作性（战略建议、下一步）
  
  pass_threshold: 70
  excellence_threshold: 90
